.rich-text {
    /* Paragraphs  */
    > p {
        margin-top: 1.25em;
        margin-bottom: 1.25em;
    }

    /* Buttons  */
    > .button {
        margin-top: 1.25em;
        margin-bottom: 1.25em;
    }

    /* Heading 1  */
    > h1 {
        margin-top: 0;
        margin-bottom: 0.8888889em;
    }

    /* Headings 2-4  */
    > h2 {
        margin-top: 2em;
        margin-bottom: 1em;
    }

    > h3 {
        margin-top: 1.6em;
        margin-bottom: 0.6em;
    }

    > h4 {
        margin-top: 1.5em;
        margin-bottom: 0.5em;
    }

    /* Lists  */
    > ul {
        margin-top: 1.25em;
        margin-bottom: 1.25em;
        padding-left: 1.625em;
        list-style-type: disc;
    }

    > ol {
        margin-top: 1.25em;
        margin-bottom: 1.25em;
        padding-left: 1.625em;
        list-style-type: decimal;
    }

    ul > li,
    ol > li {
        margin-top: 0.5em;
        margin-bottom: 0.5em;
        padding-left: 0.375em;
    }

    /* Nested lists */
    li > ul {
        margin-top: 0.75em;
        margin-bottom: 0.75em;
        list-style-type: circle;
    }

    li > ol {
        margin-top: 0.75em;
        margin-bottom: 0.75em;
        list-style-type: decimal;
    }

    /* Paragraphs in lists */
    li > p {
        margin-top: 0.75em;
        margin-bottom: 0.75em;
    }

    /* Only paragraph in list item */
    li > p:only-child {
        margin-top: 0;
        margin-bottom: 0;
    }

    /* First and last in list items */
    li > *:first-child {
        margin-top: 1.25em;
    }

    li > *:last-child {
        margin-bottom: 1.25em;
    }

    li > p:first-child {
        margin-top: 0;
    }

    li > p:last-child {
        margin-bottom: 0;
    }

    /* Blockquotes  */
    > blockquote {
        margin-top: 1.6em;
        margin-bottom: 1.6em;
        padding-left: 1em;
    }

    blockquote > p:first-of-type::before {
        content: none;
    }

    blockquote > p:last-of-type::after {
        content: none;
    }

    /* Headings in blockquotes */
    blockquote h1,
    blockquote h2,
    blockquote h3,
    blockquote h4 {
        margin-top: 0;
    }

    /* Figures & Images  */
    > figure,
    > img,
    > video {
        margin-top: 2em;
        margin-bottom: 2em;
    }

    figure > * {
        margin-top: 0;
        margin-bottom: 0;
    }

    figcaption {
        margin-top: 0.875em;
    }

    figure > figcaption {
        margin-top: 0.875em;
    }

    /* Code blocks  */
    > pre {
        margin-top: 1.7142857em;
        margin-bottom: 1.7142857em;
        padding: 0.8571429em 1.1428571em;
    }

    /* Inline code */
    code {
        padding: 0.2em 0.4em;
    }

    pre code {
        padding: 0;
    }

    /* Horizontal rules  */
    > hr {
        margin-top: 3em;
        margin-bottom: 3em;
    }

    > hr + * {
        margin-top: 0;
    }

    /* Tables  */
    > table {
        margin-top: 2em;
        margin-bottom: 2em;
    }

    thead th {
        padding-right: 0.5714286em;
        padding-bottom: 0.5714286em;
        padding-left: 0.5714286em;
    }

    tbody td,
    tfoot td {
        padding: 0.5714286em;
    }

    tbody tr,
    tfoot tr {
        padding: 0;
    }

    /* Headings after elements */
    > h2 + *,
    > h3 + *,
    > h4 + * {
        margin-top: 0;
    }

    /* First and last child overrides */
    > :first-child {
        margin-top: 0;
    }

    > :last-child {
        margin-bottom: 0;
    }
}

/* Compact variant - 75% of prose spacing */
.rich-text-compact {
    > p {
        margin-top: 0.9375em;
        margin-bottom: 0.9375em;
    }

    > .button {
        margin-top: 0.9375em;
        margin-bottom: 0.9375em;
    }

    > h1 {
        margin-top: 0;
        margin-bottom: 0.6666667em;
    }

    > h2 {
        margin-top: 1.5em;
        margin-bottom: 0.75em;
    }

    > h3 {
        margin-top: 1.2em;
        margin-bottom: 0.45em;
    }

    > h4 {
        margin-top: 1.125em;
        margin-bottom: 0.375em;
    }

    > ul,
    > ol {
        margin-top: 0.9375em;
        margin-bottom: 0.9375em;
    }

    > blockquote {
        margin-top: 1.2em;
        margin-bottom: 1.2em;
    }

    > figure,
    > img,
    > video {
        margin-top: 1.5em;
        margin-bottom: 1.5em;
    }

    > pre {
        margin-top: 1.2857143em;
        margin-bottom: 1.2857143em;
    }

    > hr {
        margin-top: 2.25em;
        margin-bottom: 2.25em;
    }

    > table {
        margin-top: 1.5em;
        margin-bottom: 1.5em;
    }
}

/* Spacious variant - 125% of prose spacing */
.rich-text-spacious {
    > p {
        margin-top: 1.5625em;
        margin-bottom: 1.5625em;
    }

    > .button {
        margin-top: 1.5625em;
        margin-bottom: 1.5625em;
    }

    > h1 {
        margin-top: 0;
        margin-bottom: 1.1111111em;
    }

    > h2 {
        margin-top: 2.5em;
        margin-bottom: 1.25em;
    }

    > h3 {
        margin-top: 2em;
        margin-bottom: 0.75em;
    }

    > h4 {
        margin-top: 1.875em;
        margin-bottom: 0.625em;
    }

    > ul,
    > ol {
        margin-top: 1.5625em;
        margin-bottom: 1.5625em;
    }

    > blockquote {
        margin-top: 2em;
        margin-bottom: 2em;
    }

    > figure,
    > img,
    > video {
        margin-top: 2.5em;
        margin-bottom: 2.5em;
    }

    > pre {
        margin-top: 2.1428571em;
        margin-bottom: 2.1428571em;
    }

    > hr {
        margin-top: 3.75em;
        margin-bottom: 3.75em;
    }

    > table {
        margin-top: 2.5em;
        margin-bottom: 2.5em;
    }
}

/* Extra Compact variant - 50% of prose spacing */
.rich-text-extra-compact {
    > p {
        margin-top: 0.625em;
        margin-bottom: 0.625em;
    }

    > .button {
        margin-top: 0.625em;
        margin-bottom: 0.625em;
    }

    > h1 {
        margin-top: 0;
        margin-bottom: 0.4444445em;
    }

    > h2 {
        margin-top: 1em;
        margin-bottom: 0.5em;
    }

    > h3 {
        margin-top: 0.8em;
        margin-bottom: 0.3em;
    }

    > h4 {
        margin-top: 0.75em;
        margin-bottom: 0.25em;
    }

    > ul,
    > ol {
        margin-top: 0.625em;
        margin-bottom: 0.625em;
    }

    > blockquote {
        margin-top: 0.8em;
        margin-bottom: 0.8em;
    }

    > figure,
    > img,
    > video {
        margin-top: 1em;
        margin-bottom: 1em;
    }

    > pre {
        margin-top: 0.8571429em;
        margin-bottom: 0.8571429em;
    }

    > hr {
        margin-top: 1.5em;
        margin-bottom: 1.5em;
    }

    > table {
        margin-top: 1em;
        margin-bottom: 1em;
    }
}

/* Extra Spacious variant - 150% of prose spacing */
.rich-text-extra-spacious {
    > p {
        margin-top: 1.875em;
        margin-bottom: 1.875em;
    }

    > .button {
        margin-top: 1.875em;
        margin-bottom: 1.875em;
    }

    > h1 {
        margin-top: 0;
        margin-bottom: 1.3333334em;
    }

    > h2 {
        margin-top: 3em;
        margin-bottom: 1.5em;
    }

    > h3 {
        margin-top: 2.4em;
        margin-bottom: 0.9em;
    }

    > h4 {
        margin-top: 2.25em;
        margin-bottom: 0.75em;
    }

    > ul,
    > ol {
        margin-top: 1.875em;
        margin-bottom: 1.875em;
    }

    > blockquote {
        margin-top: 2.4em;
        margin-bottom: 2.4em;
    }

    > figure,
    > img,
    > video {
        margin-top: 3em;
        margin-bottom: 3em;
    }

    > pre {
        margin-top: 2.5714286em;
        margin-bottom: 2.5714286em;
    }

    > hr {
        margin-top: 4.5em;
        margin-bottom: 4.5em;
    }

    > table {
        margin-top: 3em;
        margin-bottom: 3em;
    }
}

